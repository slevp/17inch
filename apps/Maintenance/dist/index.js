define("ekai/maintenance/1.0.0/main",["backbone","ekai/maintenance/1.0.0/routers/index","ekai/maintenance/1.0.0/views/home","underscore","store","ekai/maintenance/1.0.0/views/details","iscroll","ekai/maintenance/1.0.0/settings.json","ekai/maintenance/1.0.0/views/repair","ekai/maintenance/1.0.0/settings.json"],function(a){var b=a("backbone"),c=a("ekai/maintenance/1.0.0/routers/index");new c;var d=a("store"),e=a("ekai/maintenance/1.0.0/settings.json");b.history.start();var f=d.get("maintenance");void 0==f&&d.set("maintenance",e.Data)}),define("ekai/maintenance/1.0.0/routers/index",["backbone","ekai/maintenance/1.0.0/views/home","underscore","store","ekai/maintenance/1.0.0/views/details","iscroll","ekai/maintenance/1.0.0/settings.json","ekai/maintenance/1.0.0/views/repair"],function(a,b,c){var d=a("backbone");d.$;var e=a("ekai/maintenance/1.0.0/views/home"),f=a("ekai/maintenance/1.0.0/views/details"),g=a("ekai/maintenance/1.0.0/views/repair"),h=null,i=null,j=null;c.exports=d.Router.extend({routes:{"":"homePage","tag/:tagId":"details",repairshop:"repair"},homePage:function(a){a=a||"all",h?(d.$(".page.active").removeClass("active"),d.$("body").append(h.render().el),h.$el.addClass("active")):(h=new e,d.$("body").append(h.render().el),h.$el.addClass("active"));var b=this;this.listenTo(h,"navigate",function(a){b.navigate(a,{trigger:!0})})},details:function(a){i?(i.tagId=a,i.render()):(i=new f({tagId:a}),d.$("body").append(i.render().el)),d.$(".page.active").remove(),i.$el.addClass("active")},repair:function(){j?j.render():(j=new g,d.$("body").append(j.render().el)),d.$(".page.active").removeClass("active"),j.$el.addClass("active")}})}),define("ekai/maintenance/1.0.0/views/home",["backbone","underscore","store"],function(a,b,c){var d=a("backbone"),e=a("underscore"),f=d.$,g=a("store"),h=a("ekai/maintenance/1.0.0/templates/home.tpl"),i={};c.exports=d.View.extend({className:"page home",template:e.template(h),constructor:function(){d.View.apply(this,arguments)},events:{"taphold .tag":"tapHoldTag","taphold .moreTag":"tapHoldTag","click .update-btn":"dataUpdate","click .tag":"clickTag","click .moreTag":"clickTag"},initialize:function(){this.on("tapHoldTag",this.updateBtn)},render:function(){return this.delegateEvents(),this.$el.empty(),this.$el.append(this.template({ckeckTagData:i})),this.$el.find(".checkTag").length>0&&this.$el.find(".main .update-btn").addClass("active"),this},tapHoldTag:function(a){a.stopImmediatePropagation();var b=f(a.currentTarget),c=parseInt(b.attr("data-key"));b.find(".checkTag").length>0?(i[c]&&(i[c]=!1),b.find(".checkTag").remove()):(i[c]=!0,b.append('<div class="checkTag"></div>')),this.trigger("tapHoldTag"),this.isHolding=!0},updateBtn:function(){this.$el.find(".main .checkTag").length>0?this.$el.find(".main .update-btn").addClass("active"):(this.$el.find(".main .update-btn").removeClass("active"),i={})},dataUpdate:function(){var a=g.get("maintenance");this.$el.find(".checkTag");for(var b=f(".checkTag").parent(),c=["日","一","二","三","四","五","六"],d=0;d<b.length;d++){var e=f(b).eq(d).attr("class"),h=e.indexOf(" "),j=e.substring(h+1),k=new Date,l=parseInt(k.getMonth())+1,k=k.getFullYear()+"年"+l+"月"+k.getDate()+"日"+"  "+"周"+c[k.getDay()],m=a[j],n=m.nowTime;m.latelyTime=n,m.nowTime=k,a[j]=m,g.set("maintenance",a)}this.$el.find(".checkTag").remove();var o=this;setTimeout(function(){i={},o.$el.find(".update-btn").removeClass("active")},100)},clickTag:function(a){if(this.isHolding)return this.isHolding=!1,void 0;if(!d.$("body").find(".main .tag .checkTag")[0]){var b=d.$(a.currentTarget),c=b.attr("data-key");this.trigger("navigate","tag/"+c)}}})}),define("ekai/maintenance/1.0.0/templates/home.tpl",[],'<div class="main">\n    <div class="tag engine" data-key="1">\n        {{\n            if (ckeckTagData[\'1\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n            }\n        }}\n    </div>\n    <div class="tag fuel" data-key="2">\n        {{\n            if (ckeckTagData[\'2\']) {\n        }}\n            <div class="checkTag"></div>\n        {{\n            }\n        }}\n    </div>\n    <div class="tag cartridge" data-key="3">\n        {{\n        if (ckeckTagData[\'3\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n    </div>\n    <div class="tag tyre" data-key="4">\n        {{\n        if (ckeckTagData[\'4\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n    </div>\n    <div class="tag cell" data-key="5">\n        {{\n        if (ckeckTagData[\'5\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n    </div>\n    <div class="tag break" data-key="6">\n        {{\n        if (ckeckTagData[\'6\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n    </div>\n    <div class="tag brush" data-key="7">\n        {{\n        if (ckeckTagData[\'7\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n    </div>\n    <div class="tag refrigerator" data-key="8">\n        {{\n        if (ckeckTagData[\'8\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n\n    </div>\n    <div class="tag brake-oil" data-key="9">\n        {{\n        if (ckeckTagData[\'9\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n\n    </div>\n    <div class="tag transmission-oil" data-key="10">\n        {{\n        if (ckeckTagData[\'10\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n\n    </div>\n    <div class="moreTag service" data-key="11">\n        {{\n        if (ckeckTagData[\'11\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n    </div>\n    <div class="moreTag filtration" data-key="12">\n        {{\n        if (ckeckTagData[\'12\']) {\n        }}\n        <div class="checkTag"></div>\n        {{\n        }\n        }}\n    </div>\n    <div class="update-btn"></div>\n    <div class="appointment-btn"></div>\n        <a  class="shop-btn" href="#/repairshop">\n            <div class="btn-img"></div>\n        </a>\n\n</div>\n'),define("ekai/maintenance/1.0.0/views/details",["backbone","underscore","iscroll","store","ekai/maintenance/1.0.0/settings.json"],function(a,b,c){var d=a("backbone"),e=a("underscore"),f=d.$;a("iscroll");var g=a("store");a("ekai/maintenance/1.0.0/settings.json");var h=a("ekai/maintenance/1.0.0/templates/details.tpl"),i=["engine","fuel","cartridge","tyre","cell","break","brush","refrigerator","brake-oil","transmission-oil","service","filtration"];g.get("maintenance"),c.exports=d.View.extend({className:"page information",template:e.template(h),constructor:function(){d.View.apply(this,arguments)},initialize:function(a){var b=a.tagId;this.tagId=b},events:{"swipeleft .content":"swipeLeftTag","swiperight .content":"swipeRightTag","click .tag":"changeTag"},render:function(){var a=g.get("maintenance"),b=this;switch(this.$el.empty(),parseInt(b.tagId)){case 1:var c=11,d=12,e=2,f=3;break;case 2:var c=12,d=1,e=3,f=4;break;case 11:var c=9,d=10,e=12,f=1;break;case 12:var c=10,d=11,e=1,f=2;break;default:var c=parseInt(b.tagId)-2,d=parseInt(b.tagId)-1,e=parseInt(b.tagId)+1,f=parseInt(b.tagId)+2}var h=i[b.tagId-1];return this.$el.append(this.template({uptwo:{className:i[c-1],tagId:c},upone:{className:i[d-1],tagId:d},now:{className:i[b.tagId-1],tagId:b.tagId},nextone:{className:i[e-1],tagId:e},nexttwo:{className:i[f-1],tagId:f},data:a[h]})),this},swipeLeftTag:function(a){var b=f(a.currentTarget),c=b.find("li:eq(2)").attr("data-key"),d=parseInt(c)+1;this.tagId=13==d?1:d,this.render()},swipeRightTag:function(a){var b=f(a.currentTarget),c=b.find("li:eq(2)").attr("data-key"),d=parseInt(c)-1;this.tagId=0==d?12:d,this.render()},changeTag:function(a){var b=f(a.currentTarget),c=b.attr("data-key");this.tagId=c,this.render()}})}),define("ekai/maintenance/1.0.0/settings.json",[],{Data:{engine:{latelyTime:"2014年10月12日 周日",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"},fuel:{latelyTime:"2014年10月11日 周六",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"},cartridge:{latelyTime:"2014年10月13日 周一",nowTime:"2014年10月13日 周一",mileage:"998.00 公里",remainMileage:"460.00 公里"},tyre:{latelyTime:"2014年10月13日 周一",nowTime:"2014年10月13日 周一",mileage:"469.00 公里",remainMileage:"10.00 公里"},cell:{latelyTime:"2014年10月9日 周四",nowTime:"2014年10月13日 周一",mileage:"130.00 公里",remainMileage:"270.00 公里"},"break":{latelyTime:"2014年10月8日 周三",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"},brush:{latelyTime:"2014年8月1日 周五",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"},refrigerator:{latelyTime:"2014年8月2日 周六",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"},"brake-oil":{latelyTime:"2014年8月13日 周三",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"},"transmission-oil":{latelyTime:"2014年9月17日 周三",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"},service:{latelyTime:"2014年9月1日 周一",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"},filtration:{latelyTime:"2014年9月13日 周六",nowTime:"2014年10月13日 周一",mileage:"1000.00 公里",remainMileage:"500.00 公里"}}}),define("ekai/maintenance/1.0.0/templates/details.tpl",[],'\n<div class="back">\n    <a href="#"></a>\n</div>\n<div class="content">\n<div class="head">\n    <ul>\n        <li class="tag {{=uptwo.className}}" data-key="{{=uptwo.tagId}}"></li>\n        <li class="tag {{=upone.className}}" data-key="{{=upone.tagId}}"></li>\n        <li class="tag {{=now.className}}" data-key="{{=now.tagId}}"></li>\n        <li class="tag {{=nextone.className}}" data-key="{{=nextone.tagId}}"></li>\n        <li class="tag {{=nexttwo.className}}" data-key="{{=nexttwo.tagId}}"></li>\n    </ul>\n    <div class="box"></div>\n</div>\n<div class="foot">\n    <div class="item">\n        <p class="text">上次维修时间</p>\n        <p class="semicolon">:</p>\n        <p class="textbox">{{=data.latelyTime}}</p>\n    </div>\n    <div class="item">\n        <p class="text">本次维修时间</p>\n        <p class="semicolon">:</p>\n        <p class="textbox">{{=data.nowTime}}</p>\n    </div>\n    <div class="item">\n        <p class="text">本次保养里程</p>\n        <p class="semicolon">:</p>\n        <p class="textbox">{{=data.mileage}}</p>\n    </div>\n    <div class="item">\n        <p class="text">剩余保养里程</p>\n        <p class="semicolon">:</p>\n        <p class="textbox">{{=data.remainMileage}}</p>\n    </div>\n</div>\n</div>'),define("ekai/maintenance/1.0.0/views/repair",["backbone","underscore"],function(a,b,c){var d=a("backbone"),e=a("underscore");d.$;var f=a("ekai/maintenance/1.0.0/templates/repair.tpl");c.exports=d.View.extend({className:"page shop",template:e.template(f),constructor:function(){d.View.apply(this,arguments)},initialize:function(){},render:function(){return this.$el.empty(),this.$el.append(this.template({})),this}})}),define("ekai/maintenance/1.0.0/templates/repair.tpl",[],'<div class="back">\n    <a href="#"></a>\n</div>\n<div class="repair-page">\n<div class="my-shop">\n    <div class="my-icon"></div>\n    <p class="my-title">我的4S店</p>\n    <p class="stop-information">裕兴专营店</p>\n</div>\n<div class="column">\n    <div class="icon" id="saler-icon"></div>\n    <div class="title">经 销 商</div>\n    <p class="information">裕兴专营店</p>\n</div>\n<div class="column">\n    <div class="icon" id="phone-icon"></div>\n    <div class="title">电&nbsp&nbsp&nbsp&nbsp&nbsp话 </div>\n    <p class="information">021-681752222\n    </p>\n\n</div>\n<div class="column">\n    <div class="icon" id="address-icon"></div>\n    <div class="title">地&nbsp&nbsp&nbsp&nbsp&nbsp址</div>\n    <p class="information">上海市浦东新区沪南公路7511号\n    </p>\n</div>\n<div class="map">\n    <div class="go-btn"></div>\n</div>\n</div>');
