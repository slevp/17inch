define("jquery-drag",[],function(t,o,e){e.exports=function(t){function o(t,o){this.element=t,this.options=o}var e,n="jquery-drag",s=window,r=s.document,i=t(r),a=t(r.body),p={handle:null,drag:null,axis:"xy",cursor:"move",min:null,max:null,zIndex:9999,ondragbefore:t.noop,ondragstart:t.noop,ondrag:t.noop,ondragend:t.noop};t.fn.drag=function(s){var r,i,a="string"===t.type(s),d=[].slice.call(arguments,1),l=t.extend({},p);if(a&&"_"!==a[0]){if(!this.length)return;return r=t(this[0]),i=r.data(n),i||r.data(n,i=new o(r[0],l)._init()),o.prototype[s]?o.prototype[s].apply(i,d):e}return a||(l=t.extend(l,s)),this.each(function(){var e=this,s=t(e).data(n);s||t(e).data(n,s=new o(e,l)._init())})},t.fn.drag.defaults=p,o.prototype={_init:function(){var o=this,e=o.options,n=t(o.element);return o.$element=n,e.handle?n.on("mousedown taphold",e.handle,t.proxy(o._start,o)):n.on("mousedown taphold",t.proxy(o._start,o)),i.mousemove(t.proxy(o._move,o)).mouseup(t.proxy(o._end,o)).bind("touchmove",t.proxy(o._move,o)).bind("touchend",t.proxy(o._end,o)).bind("touchcancel",t.proxy(o._end,o)),o},_start:function(o){if(!this.is){var e,n,s=o.originalEvent,r=this,i=r.options,p=r.$element,d=i.handle?t(o.target).closest(i.handle):t(o.target),l=i.drag?d.closest(i.drag):p,u=s.touches?s.touches[0]:o;p.has(l).length||(l=p),r.$drag=l,i.ondragbefore.call(l[0],o,r),r.zIndex=l.css("z-index"),r.cursor=a.css("cursor"),r.$drag=l.css("z-index",i.zIndex),e=l.css("position"),n=l.offset(),"static"===e?l.css("position","relative"):("fixed"===e||"absolute"===e)&&l.css(l.position()),r.pos={x:u.pageX,y:u.pageY,l:n.left,t:n.top},r.is=!0,r.options.cursor&&a.css("cursor",i.cursor),i.ondragstart.call(l[0],o,r),o.preventDefault()}},_move:function(t){if(this.is){var o,n,s,r,i=t.originalEvent,a=this,p=a.options,d=p.min,l=p.max,u=a.pos,c=a.$drag,f=c.parent(!0).offset(),h={},g=i.touches?i.touches[0]:t;~p.axis.indexOf("x")&&(h.left=g.pageX-u.x+u.l),~p.axis.indexOf("y")&&(h.top=g.pageY-u.y+u.t),d&&d.left!==e&&h.left<(o=d.left+f.left)&&(h.left=o),d&&d.top!==e&&h.top<(n=d.top+f.top)&&(h.top=n),l&&l.left!==e&&h.left>(s=l.left+f.left)&&(h.left=s),l&&l.top!==e&&h.top>l.top&&h.top>(r=l.top+f.top)&&(h.top=r),c.offset(h),p.ondrag.call(c[0],t,a),t.preventDefault()}},_end:function(t){if(this.is){var o=this,e=o.$drag;o.is=!1,o.options.cursor&&a.css("cursor",o.cursor),e.css("z-index",o.zIndex),o.options.ondragend.call(e[0],t,o),t.preventDefault()}},options:function(o,n){if("string"===t.type(o)&&n===e)return this.options[o];var s={};"object"===t.type(o)?s=o:s[o]=n,this.options=t.extend(this.options,s)}}}});