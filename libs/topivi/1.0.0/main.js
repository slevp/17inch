define("topivi",["topivi/widget/1.0.0/util","topivi/widget/1.0.0/progress/index","topivi/widget/1.0.0/progress/round","jquery","underscore","topivi/widget/1.0.0/progress/progress","topivi/widget/1.0.0/widget","topivi/widget/1.0.0/progress/horizontal","topivi/widget/1.0.0/progress/line","topivi/widget/1.0.0/dialog/index","topivi/widget/1.0.0/dialog/normal","topivi/widget/1.0.0/dialog/dialog","jquery-drag","jquery-touch","topivi/widget/1.0.0/dialog/confirm","iscroll","topivi/widget/1.0.0/card/index","topivi/widget/1.0.0/card/normal","topivi/widget/1.0.0/card/card","topivi/widget/1.0.0/scroll/index","topivi/widget/1.0.0/scroll/scroll","topivi/widget/1.0.0/scroll/iscroll","topivi/widget/1.0.0/slider/index","topivi/widget/1.0.0/slider/slider-list-remove","topivi/widget/1.0.0/tips/index","topivi/widget/1.0.0/tips/normal","topivi/widget/1.0.0/tips/tips","topivi/widget/1.0.0/loading/index","topivi/widget/1.0.0/loading/normal","topivi/widget/1.0.0/loading/loading","topivi/widget/1.0.0/socket/index"],function(a,b,c){var d={};d.util=a("topivi/widget/1.0.0/util"),d.progress=a("topivi/widget/1.0.0/progress/index"),d.dialog=a("topivi/widget/1.0.0/dialog/index"),d.card=a("topivi/widget/1.0.0/card/index"),d.scroll=a("topivi/widget/1.0.0/scroll/index"),d.slider=a("topivi/widget/1.0.0/slider/index"),d.tips=a("topivi/widget/1.0.0/tips/index"),d.loading=a("topivi/widget/1.0.0/loading/index"),d.socket=a("topivi/widget/1.0.0/socket/index"),c.exports=d}),define("topivi/widget/1.0.0/util",[],function(a,b){b.inherits=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},b.fileSizeString=function(a,b){if(1024>=a)return"1K";for(var c=["K","M","G","T"],d=0;a>1024;)d++,a/=1024;a+="",b=b||2;var e=a.indexOf(".");if(e>0&&e+b+1<=a.length){var f=a.substring(0,e),g=a.substr(e+1,b);a=f+"."+g}return a+c[d-1]},b.dateToString=function(a,b){return b=b||"-",a.getFullYear()+b+(a.getMonth()+1)+b+a.getDate()},b.stringToDate=function(a,b){b=b||"-";var c;return c=a.indexOf(b)<0?[a.substr(0,4),a.substr(4,2),a.substr(6,2)]:a.split("-"),3!=c.length?console.error("Param date string is invalid."):new Date(parseInt(c[0]),parseInt(c[1])-1,parseInt(c[2]))}}),define("topivi/widget/1.0.0/progress/index",["topivi/widget/1.0.0/progress/round","jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/progress/progress","topivi/widget/1.0.0/widget","topivi/widget/1.0.0/progress/horizontal","topivi/widget/1.0.0/progress/line"],function(a,b,c){var d={};d.round=a("topivi/widget/1.0.0/progress/round"),d.horizontal=a("topivi/widget/1.0.0/progress/horizontal"),d.line=a("topivi/widget/1.0.0/progress/line"),c.exports=d}),define("topivi/widget/1.0.0/progress/round",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/progress/progress","topivi/widget/1.0.0/widget"],function(a,b,c){function d(){this.template=e.template(h),g.apply(this,arguments)}a("jquery");var e=a("underscore"),f=a("topivi/widget/1.0.0/util"),g=a("topivi/widget/1.0.0/progress/progress"),h=a("topivi/widget/1.0.0/templates/progress-round.tpl");f.inherits(d,g),d.prototype.init=function(){g.prototype.init.apply(this,arguments),this.el.addClass("round"),this.el.html(this.template({}))},d.prototype.render=function(){this.options;var a=Math.round(360*this.getProgressPercentage());this.el.find(".point").css("-webkit-transform","rotate("+a+"deg)"),180>=a?(this.el.find(".right").css("-webkit-transform","rotate("+a+"deg)"),this.el.find(".left").css("-webkit-transform","rotate(0deg)")):(this.el.find(".right").css("-webkit-transform","rotate(180deg)"),this.el.find(".left").css("-webkit-transform","rotate("+(a-180)+"deg)"))},c.exports=d}),define("topivi/widget/1.0.0/progress/progress",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget"],function(a,b,c){function d(){this.defaults={startAfterInit:!0,min:0,max:100,current:0,onStart:function(){},onChanged:function(){},onEnd:function(){}},f.apply(this,arguments),this.options.startAfterInit&&(this.options.onStart.call(this),this.render())}a("jquery"),a("underscore");var e=a("topivi/widget/1.0.0/util"),f=a("topivi/widget/1.0.0/widget");e.inherits(d,f),d.prototype.init=function(){f.prototype.init.apply(this,arguments),this.el.addClass("progress")},d.prototype.getProgress=function(){return this.options.current},d.prototype.getProgressPercentage=function(){return this.options.current/this.options.max},d.prototype.plusProgress=function(a){a=a||1,this.setProgress(this.getProgress()+a)},d.prototype.reduceProgress=function(a){a=a||1,this.setProgress(this.getProgress()-a)},d.prototype.setProgress=function(a){var b=this.options;a=parseInt(a);var c=!1;a<b.min&&(a=b.min,c=!0),a>b.max&&(a=b.max,c=!0);var d=b.current;b.current=a,a!==d&&b.onChanged.call(this,b.current,d),this.render(),c&&b.onEnd.call(this)},d.prototype.reset=function(){this.options.current=this.options.min,this.render()},c.exports=d}),define("topivi/widget/1.0.0/widget",["jquery","underscore"],function(a,b,c){function d(a,b){if(this.options={},this.defaults=this.defaults||{},f.extend(this.options,g,this.defaults,b),!this.init||"function"!=typeof this.init)return console.error("Init function not found.");if(f.isString(a)){if(this.el=e(a),!this.el||this.el.length<=0){var c="widget-"+(new Date).getTime();this.options.$parent.append("<div id='"+c+"'></div>"),this.el=this.options.$parent.find("#"+c),this.id=c}}else this.el=a;this.id=this.id||this.el.attr("id"),this.init()}var e=a("jquery"),f=a("underscore"),g={$parent:e("body")};d.prototype.init=function(){this.el.addClass("topivi-widget")},d.prototype.render=function(){},d.prototype.resetOptions=function(a){f.extend(this.options,a)},c.exports=d}),define("topivi/widget/1.0.0/templates/progress-round.tpl",[],'<div class="bg-left"><div class="left circle"></div></div>\n<div class="bg-right"><div class="right circle"></div></div>\n<div class="mask circle"></div>\n<div class="point"><div class="dot"></div></div>'),define("topivi/widget/1.0.0/progress/horizontal",["jquery","underscore","topivi/widget/1.0.0/widget","topivi/widget/1.0.0/util","topivi/widget/1.0.0/progress/progress"],function(a,b,c){function d(a,b){this.template=e.template(h),g.apply(this,arguments),b.touch&&this.addEvents(b)}a("jquery");var e=a("underscore");a("topivi/widget/1.0.0/widget");var f=a("topivi/widget/1.0.0/util"),g=a("topivi/widget/1.0.0/progress/progress"),h=a("topivi/widget/1.0.0/templates/progress-horizontal.tpl");f.inherits(d,g),d.prototype.init=function(){g.prototype.init.apply(this,arguments),this.el.addClass("horizontal"),this.el.html(this.template({}))},d.prototype.addEvents=function(){var a=this,b=this.el.find(".progress-bg");this.isProgressBarPressDwon=!1,this.pressDown=function(c){a.progressBarChangeX=c.pageX-b.offset().left,a.progressBarChangeX<0?a.progressBarChangeX=0:a.progressBarChangeX>a.progressBarTopTotalSize&&(a.progressBarChangeX=a.progressBarTopTotalSize),a.isProgressBarPressDwon=!0,a.el.find(".progressBar").css("width",a.progressBarChangeX),a.el.find(".progress-control").css("left",a.progressBarChangeX)},this.move=function(b){!1!==a.isProgressBarPressDwon&&a.pressDown(b)},this.pressUp=function(){!1!==a.isProgressBarPressDwon&&(a.el.find(".progressBar").css("width",a.progressBarChangeX),a.el.find(".progress-control").css("left",a.progressBarChangeX),a.isProgressBarPressDwon=!1)},this.el.find(".panel").bind({mousedown:this.pressDown,mousemove:this.move,mouseup:this.pressUp,mouseout:this.pressUp})},d.prototype.render=function(){var a=this.options,b=Math.round(this.getProgressPercentage()*a.progressBarTopTotalSize);this.el.find(".progressBar").css("width",b),this.el.find(".progress-control").css("left",b)},c.exports=d}),define("topivi/widget/1.0.0/templates/progress-horizontal.tpl",[],'<div class="progress-bg">\n    <div class="progressBar"></div>\n    <div class="progress-control"></div>\n    <div class="panel"></div>\n</div>\n\n\n\n\n\n'),define("topivi/widget/1.0.0/progress/line",["underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/progress/progress","jquery","topivi/widget/1.0.0/widget"],function(a,b,c){function d(){this.template=e.template(h),g.apply(this,arguments)}var e=a("underscore"),f=a("topivi/widget/1.0.0/util"),g=a("topivi/widget/1.0.0/progress/progress"),h=a("topivi/widget/1.0.0/templates/progress-line.tpl");f.inherits(d,g),d.prototype.init=function(){g.prototype.init.apply(this,arguments),this.el.addClass("line"),this.el.html(this.template({}))},d.prototype.render=function(){var a=100*this.getProgressPercentage();this.el.find(".bar").css({width:a+"%"}),this.el.find(".dot").css({left:a+"%"})},c.exports=d}),define("topivi/widget/1.0.0/templates/progress-line.tpl",[],'<div class="bar"></div>\n<div class="dot"></div>'),define("topivi/widget/1.0.0/dialog/index",["topivi/widget/1.0.0/dialog/normal","jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/dialog/dialog","topivi/widget/1.0.0/widget","jquery-drag","jquery-touch","topivi/widget/1.0.0/dialog/confirm","iscroll"],function(a,b,c){var d={};d.normal=a("topivi/widget/1.0.0/dialog/normal"),d.confirm=a("topivi/widget/1.0.0/dialog/confirm"),c.exports=d}),define("topivi/widget/1.0.0/dialog/normal",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/dialog/dialog","topivi/widget/1.0.0/widget","jquery-drag","jquery-touch"],function(a,b,c){function d(a,b){var c={};b=e.extend(c,b),g.apply(this,arguments)}a("jquery");var e=a("underscore"),f=a("topivi/widget/1.0.0/util"),g=a("topivi/widget/1.0.0/dialog/dialog");f.inherits(d,g),d.prototype.init=function(){g.prototype.init.apply(this,arguments),this.options,this.el.addClass("normal")},d.prototype.render=function(){var a=this.options;this.el.append(a.content).wrapInner("<div class='content'></div>")},c.exports=d}),define("topivi/widget/1.0.0/dialog/dialog",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget","jquery-drag","jquery-touch"],function(a,b,c){function d(){this.defaults={useMask:!1,removeAfterClose:!1,autoOpen:!1,draggable:!1,dragOptions:{},closeGesture:"swiperight",beforeOpen:function(){},onOpen:function(){},beforeClose:function(){},onClose:function(){},content:"This is dialog content.",inAnimation:function(a){var b=this,c=200,d="easeOutBack";this.el.css("left","-50%"),this.el.animate({left:"50%"},c,d,function(){b.el.removeAttr("style"),a()})},outAnimation:function(a){var b=this,c=200,d="easeInBack";this.el.animate({left:"100%"},c,d,function(){b.el.removeAttr("style"),a()})}},h.apply(this,arguments)}var e=a("jquery"),f=a("underscore"),g=a("topivi/widget/1.0.0/util"),h=a("topivi/widget/1.0.0/widget"),i=a("jquery-drag");i(e),a("jquery-touch"),g.inherits(d,h),d.prototype.init=function(){h.prototype.init.apply(this,arguments),this.el.addClass("dialog");var a=this,b=this.options;b.draggable&&this.el.drag("options",b.dragOptions);var c=b.closeGesture.split(" ");(!c||c.length<=0)&&(c=["swipe"]),b.gestures=c;for(var d=0;d<c.length;d++)this.el.on(c[d],function(){a.close.call(a,{from:"gesture"})});b.autoOpen&&this.open()},d.prototype.open=function(){if(!this.opening&&!this.opened){this.opening=!0;var a=this,b=this.options,c=arguments;if(b.beforeOpen.apply(this,c),b.useMask){var d="mask-"+(new Date).getTime();b.$parent.append("<div id='"+d+"' class='dialog-mask'></div>"),this.maskId=d,f.contains(b.gestures,"clickmask")&&e("#"+d).on("tap",function(){a.close.call(a,{from:"gesture"})})}this.render(),this.el.addClass("opening"),b.inAnimation.call(this,function(){b.onOpen.apply(a,c),a.el.addClass("opened").removeClass("opening"),a.opening=!1,a.opened=!0})}},d.prototype.close=function(){if(!this.closing&&this.opened){this.closing=!0;var a=this,b=this.options,c=arguments;b.beforeClose.apply(this,c),b.useMask&&b.$parent.find("#"+this.maskId).remove(),b.outAnimation.call(this,function(){b.onClose.apply(a,c),a.el.empty().removeClass("opened"),a.closing=!1,a.opened=!1,b.removeAfterClose&&(a.el.remove(),a=void 0)})}},d.prototype.setContent=function(a){this.options.content=a},c.exports=d}),define("topivi/widget/1.0.0/dialog/confirm",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/dialog/dialog","topivi/widget/1.0.0/widget","jquery-drag","jquery-touch","iscroll"],function(a,b,c){function d(a,b){this.template=e.template(h);var c={onOkClick:function(){},onCancelClick:function(){}};b=e.extend(c,b),g.apply(this,arguments)}a("jquery");var e=a("underscore"),f=a("topivi/widget/1.0.0/util"),g=a("topivi/widget/1.0.0/dialog/dialog"),h=a("topivi/widget/1.0.0/templates/dialog-confirm.tpl"),i=a("iscroll");f.inherits(d,g),d.prototype.init=function(){g.prototype.init.apply(this,arguments);var a=this,b=this.options;this.el.addClass("confirm"),this.el.on("click",".ok",function(){a.close({from:"ok"}),b.onOkClick(arguments)}),this.el.on("click",".cancel",function(){a.close({from:"cancel"}),b.onCancelClick(arguments)})},d.prototype.render=function(){var a=this;this.el.html(this.template({content:this.options.content})),this.el.find(".content").wrapInner("<div class='wrapper'></div>"),setTimeout(function(){return a.id?(a.contentScroll=new i("#"+a.id+" .content",{scrollX:!1,scrollY:!0,mouseWheel:!0}),void 0):(console.error("ID is not set."),void 0)},100)},c.exports=d}),define("topivi/widget/1.0.0/templates/dialog-confirm.tpl",[],'<div class="content">{{=content}}</div>\n<div class="btns">\n    <div class="ok">确定</div>\n    <div class="cancel">取消</div>\n</div>'),define("topivi/widget/1.0.0/card/index",["topivi/widget/1.0.0/card/normal","jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/card/card","topivi/widget/1.0.0/widget","jquery-touch"],function(a,b,c){var d={};d.normal=a("topivi/widget/1.0.0/card/normal"),c.exports=d}),define("topivi/widget/1.0.0/card/normal",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/card/card","topivi/widget/1.0.0/widget","jquery-touch"],function(a,b,c){function d(a,b){this.template=e.template(Template);var c={};b=e.extend(c,b),g.apply(this,arguments)}a("jquery");var e=a("underscore"),f=a("topivi/widget/1.0.0/util"),g=a("topivi/widget/1.0.0/card/card");f.inherits(d,g),d.prototype.init=function(){g.prototype.init.apply(this,arguments),this.options,this.el.addClass("confirm")},d.prototype.render=function(){},c.exports=d}),define("topivi/widget/1.0.0/card/card",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget","jquery-touch"],function(a,b,c){function d(){this.defaults={num:4,expandAnimation:function(){},shrinkAnimation:function(){}},f.apply(this,arguments)}a("jquery"),a("underscore");var e=a("topivi/widget/1.0.0/util"),f=a("topivi/widget/1.0.0/widget");a("jquery-touch"),e.inherits(d,f),d.prototype.init=function(){f.prototype.init.apply(this,arguments),this.el.addClass("card")},d.prototype.init.show=function(a){a=a||0},c.exports=d}),define("topivi/widget/1.0.0/scroll/index",["topivi/widget/1.0.0/scroll/scroll","jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget","topivi/widget/1.0.0/scroll/iscroll"],function(a,b,c){var d={};d.refreshCase=a("topivi/widget/1.0.0/scroll/scroll"),c.exports=d}),define("topivi/widget/1.0.0/scroll/scroll",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget","topivi/widget/1.0.0/scroll/iscroll"],function(a,b,c){function d(a,b){var c=e("#pullDown"),d=c.outerHeight();b={useTransition:!0,topOffset:d,onRefresh:function(){c.hasClass("loading")&&(c.attr("class",""),c.find(".pullDownLabel").text("Pull down to refresh..."))},onScrollMove:function(){this.y>5&&!c.hasClass("flip")?(c.attr("class","flip"),c.find(".pullDownLabel").text("Release to refresh..."),this.minScrollY=0):this.y<5&&c.hasClass("flip")&&(c.attr("class",""),c.find(".pullDownLabel").text("Pull down to refresh..."),this.minScrollY=-d)},onScrollEnd:function(){c.hasClass("flip")&&(c.attr("class","loading"),c.find(".pullDownLabel").text("Loading..."))}},g.apply(this,arguments),h.call(this,a,b)}var e=a("jquery");a("underscore");var f=a("topivi/widget/1.0.0/util"),g=a("topivi/widget/1.0.0/widget"),h=a("topivi/widget/1.0.0/scroll/iscroll");f.inherits(d,h),d.prototype.init=function(){g.prototype.init.apply(this,arguments),this.el.addClass("Scroll")},c.exports=d}),define("topivi/widget/1.0.0/scroll/iscroll",[],function(a,b,c){!function(a,b){function d(a){return""===g?a:(a=a.charAt(0).toUpperCase()+a.substr(1),g+a)}var e=Math,f=b.createElement("div").style,g=function(){for(var a,b="t,webkitT,MozT,msT,OT".split(","),c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}(),h=g?"-"+g.toLowerCase()+"-":"",i=d("transform"),j=d("transitionProperty"),k=d("transitionDuration"),l=d("transformOrigin"),m=d("transitionTimingFunction"),n=d("transitionDelay"),o=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),q=/hp-tablet/gi.test(navigator.appVersion),r=d("perspective")in f,s="ontouchstart"in a&&!q,t=!!g,u=d("transition")in f,v="onorientationchange"in a?"orientationchange":"resize",w=s?"touchstart":"mousedown",x=s?"touchmove":"mousemove",y=s?"touchend":"mouseup",z=s?"touchcancel":"mouseup",A="Moz"==g?"DOMMouseScroll":"mousewheel",B=function(){if(g===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"};return a[g]}(),C=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),D=function(){return a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout}(),E=r?" translateZ(0)":"",F=function(c,d){var e,f=this;f.wrapper="object"==typeof c?c:b.getElementById(c),f.wrapper.style.overflow="hidden",f.scroller=f.wrapper.children[0],f.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:o,hideScrollbar:p,fadeScrollbar:p&&r,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(e in d)f.options[e]=d[e];f.x=f.options.x,f.y=f.options.y,f.options.useTransform=t&&f.options.useTransform,f.options.hScrollbar=f.options.hScroll&&f.options.hScrollbar,f.options.vScrollbar=f.options.vScroll&&f.options.vScrollbar,f.options.zoom=f.options.useTransform&&f.options.zoom,f.options.useTransition=u&&f.options.useTransition,f.options.zoom&&o&&(E=""),f.scroller.style[j]=f.options.useTransform?h+"transform":"top left",f.scroller.style[k]="0",f.scroller.style[l]="0 0",f.options.useTransition&&(f.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),f.options.useTransform?f.scroller.style[i]="translate("+f.x+"px,"+f.y+"px)"+E:f.scroller.style.cssText+=";position:absolute;top:"+f.y+"px;left:"+f.x+"px",f.options.useTransition&&(f.options.fixedScrollbar=!0),f.refresh(),f._bind(v,a),f._bind(w),s||(f._bind("mouseout",f.wrapper),"none"!=f.options.wheelAction&&f._bind(A)),f.options.checkDOMChanges&&(f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},500))};F.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){var b=this;switch(a.type){case w:if(!s&&0!==a.button)return;b._start(a);break;case x:b._move(a);break;case y:case z:b._end(a);break;case v:b._resize();break;case A:b._wheel(a);break;case"mouseout":b._mouseout(a);break;case B:b._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(a){var c,d=this;return d[a+"Scrollbar"]?(d[a+"ScrollbarWrapper"]||(c=b.createElement("div"),d.options.scrollbarClass?c.className=d.options.scrollbarClass+a.toUpperCase():c.style.cssText="position:absolute;z-index:100;"+("h"==a?"height:7px;bottom:1px;left:2px;right:"+(d.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(d.hScrollbar?"7":"2")+"px;top:2px;right:1px"),c.style.cssText+=";pointer-events:none;"+h+"transition-property:opacity;"+h+"transition-duration:"+(d.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(d.options.hideScrollbar?"0":"1"),d.wrapper.appendChild(c),d[a+"ScrollbarWrapper"]=c,c=b.createElement("div"),d.options.scrollbarClass||(c.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+h+"background-clip:padding-box;"+h+"box-sizing:border-box;"+("h"==a?"height:100%":"width:100%")+";"+h+"border-radius:3px;border-radius:3px"),c.style.cssText+=";pointer-events:none;"+h+"transition-property:"+h+"transform;"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+h+"transition-duration:0;"+h+"transform: translate(0,0)"+E,d.options.useTransition&&(c.style.cssText+=";"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),d[a+"ScrollbarWrapper"].appendChild(c),d[a+"ScrollbarIndicator"]=c),"h"==a?(d.hScrollbarSize=d.hScrollbarWrapper.clientWidth,d.hScrollbarIndicatorSize=e.max(e.round(d.hScrollbarSize*d.hScrollbarSize/d.scrollerW),8),d.hScrollbarIndicator.style.width=d.hScrollbarIndicatorSize+"px",d.hScrollbarMaxScroll=d.hScrollbarSize-d.hScrollbarIndicatorSize,d.hScrollbarProp=d.hScrollbarMaxScroll/d.maxScrollX):(d.vScrollbarSize=d.vScrollbarWrapper.clientHeight,d.vScrollbarIndicatorSize=e.max(e.round(d.vScrollbarSize*d.vScrollbarSize/d.scrollerH),8),d.vScrollbarIndicator.style.height=d.vScrollbarIndicatorSize+"px",d.vScrollbarMaxScroll=d.vScrollbarSize-d.vScrollbarIndicatorSize,d.vScrollbarProp=d.vScrollbarMaxScroll/d.maxScrollY),d._scrollbarPos(a,!0),void 0):(d[a+"ScrollbarWrapper"]&&(t&&(d[a+"ScrollbarIndicator"].style[i]=""),d[a+"ScrollbarWrapper"].parentNode.removeChild(d[a+"ScrollbarWrapper"]),d[a+"ScrollbarWrapper"]=null,d[a+"ScrollbarIndicator"]=null),void 0)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},o?200:0)},_pos:function(a,b){this.zoomed||(a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[i]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+E:(a=e.round(a),b=e.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(a,b){var c,d=this,f="h"==a?d.x:d.y;d[a+"Scrollbar"]&&(f=d[a+"ScrollbarProp"]*f,0>f?(d.options.fixedScrollbar||(c=d[a+"ScrollbarIndicatorSize"]+e.round(3*f),8>c&&(c=8),d[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=c+"px"),f=0):f>d[a+"ScrollbarMaxScroll"]&&(d.options.fixedScrollbar?f=d[a+"ScrollbarMaxScroll"]:(c=d[a+"ScrollbarIndicatorSize"]-e.round(3*(f-d[a+"ScrollbarMaxScroll"])),8>c&&(c=8),d[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=c+"px",f=d[a+"ScrollbarMaxScroll"]+(d[a+"ScrollbarIndicatorSize"]-c))),d[a+"ScrollbarWrapper"].style[n]="0",d[a+"ScrollbarWrapper"].style.opacity=b&&d.options.hideScrollbar?"0":"1",d[a+"ScrollbarIndicator"].style[i]="translate("+("h"==a?f+"px,0)":"0,"+f+"px)")+E)},_start:function(a){var b,c,d,f,g,h=this,j=s?a.touches[0]:a;h.enabled&&(h.options.onBeforeScrollStart&&h.options.onBeforeScrollStart.call(h,a),(h.options.useTransition||h.options.zoom)&&h._transitionTime(0),h.moved=!1,h.animating=!1,h.zoomed=!1,h.distX=0,h.distY=0,h.absDistX=0,h.absDistY=0,h.dirX=0,h.dirY=0,h.options.zoom&&s&&a.touches.length>1&&(f=e.abs(a.touches[0].pageX-a.touches[1].pageX),g=e.abs(a.touches[0].pageY-a.touches[1].pageY),h.touchesDistStart=e.sqrt(f*f+g*g),h.originX=e.abs(a.touches[0].pageX+a.touches[1].pageX-2*h.wrapperOffsetLeft)/2-h.x,h.originY=e.abs(a.touches[0].pageY+a.touches[1].pageY-2*h.wrapperOffsetTop)/2-h.y,h.options.onZoomStart&&h.options.onZoomStart.call(h,a)),h.options.momentum&&(h.options.useTransform?(b=getComputedStyle(h.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),c=1*b[4],d=1*b[5]):(c=1*getComputedStyle(h.scroller,null).left.replace(/[^0-9-]/g,""),d=1*getComputedStyle(h.scroller,null).top.replace(/[^0-9-]/g,"")),(c!=h.x||d!=h.y)&&(h.options.useTransition?h._unbind(B):D(h.aniTime),h.steps=[],h._pos(c,d))),h.absStartX=h.x,h.absStartY=h.y,h.startX=h.x,h.startY=h.y,h.pointX=j.pageX,h.pointY=j.pageY,h.startTime=a.timeStamp||Date.now(),h.options.onScrollStart&&h.options.onScrollStart.call(h,a),h._bind(x),h._bind(y),h._bind(z))},_move:function(a){var b,c,d,f=this,g=s?a.touches[0]:a,h=g.pageX-f.pointX,j=g.pageY-f.pointY,k=f.x+h,l=f.y+j,m=a.timeStamp||Date.now();return f.options.onBeforeScrollMove&&f.options.onBeforeScrollMove.call(f,a),f.options.zoom&&s&&a.touches.length>1?(b=e.abs(a.touches[0].pageX-a.touches[1].pageX),c=e.abs(a.touches[0].pageY-a.touches[1].pageY),f.touchesDist=e.sqrt(b*b+c*c),f.zoomed=!0,d=1/f.touchesDistStart*f.touchesDist*this.scale,d<f.options.zoomMin?d=.5*f.options.zoomMin*Math.pow(2,d/f.options.zoomMin):d>f.options.zoomMax&&(d=2*f.options.zoomMax*Math.pow(.5,f.options.zoomMax/d)),f.lastScale=d/this.scale,k=this.originX-this.originX*f.lastScale+this.x,l=this.originY-this.originY*f.lastScale+this.y,this.scroller.style[i]="translate("+k+"px,"+l+"px) scale("+d+")"+E,f.options.onZoom&&f.options.onZoom.call(f,a),void 0):(f.pointX=g.pageX,f.pointY=g.pageY,(k>0||k<f.maxScrollX)&&(k=f.options.bounce?f.x+h/2:k>=0||f.maxScrollX>=0?0:f.maxScrollX),(l>f.minScrollY||l<f.maxScrollY)&&(l=f.options.bounce?f.y+j/2:l>=f.minScrollY||f.maxScrollY>=0?f.minScrollY:f.maxScrollY),f.distX+=h,f.distY+=j,f.absDistX=e.abs(f.distX),f.absDistY=e.abs(f.distY),f.absDistX<6&&f.absDistY<6||(f.options.lockDirection&&(f.absDistX>f.absDistY+5?(l=f.y,j=0):f.absDistY>f.absDistX+5&&(k=f.x,h=0)),f.moved=!0,f._pos(k,l),f.dirX=h>0?-1:0>h?1:0,f.dirY=j>0?-1:0>j?1:0,m-f.startTime>300&&(f.startTime=m,f.startX=f.x,f.startY=f.y),f.options.onScrollMove&&f.options.onScrollMove.call(f,a)),void 0)},_end:function(a){if(!s||0===a.touches.length){var c,d,f,g,h,j,l,m=this,n=s?a.changedTouches[0]:a,o={dist:0,time:0},p={dist:0,time:0},q=(a.timeStamp||Date.now())-m.startTime,r=m.x,t=m.y;if(m._unbind(x),m._unbind(y),m._unbind(z),m.options.onBeforeScrollEnd&&m.options.onBeforeScrollEnd.call(m,a),m.zoomed)return l=m.scale*m.lastScale,l=Math.max(m.options.zoomMin,l),l=Math.min(m.options.zoomMax,l),m.lastScale=l/m.scale,m.scale=l,m.x=m.originX-m.originX*m.lastScale+m.x,m.y=m.originY-m.originY*m.lastScale+m.y,m.scroller.style[k]="200ms",m.scroller.style[i]="translate("+m.x+"px,"+m.y+"px) scale("+m.scale+")"+E,m.zoomed=!1,m.refresh(),m.options.onZoomEnd&&m.options.onZoomEnd.call(m,a),void 0;if(!m.moved)return s&&(m.doubleTapTimer&&m.options.zoom?(clearTimeout(m.doubleTapTimer),m.doubleTapTimer=null,m.options.onZoomStart&&m.options.onZoomStart.call(m,a),m.zoom(m.pointX,m.pointY,1==m.scale?m.options.doubleTapZoom:1),m.options.onZoomEnd&&setTimeout(function(){m.options.onZoomEnd.call(m,a)},200)):this.options.handleClick&&(m.doubleTapTimer=setTimeout(function(){for(m.doubleTapTimer=null,c=n.target;1!=c.nodeType;)c=c.parentNode;"SELECT"!=c.tagName&&"INPUT"!=c.tagName&&"TEXTAREA"!=c.tagName&&(d=b.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,a.view,1,n.screenX,n.screenY,n.clientX,n.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._fake=!0,c.dispatchEvent(d))},m.options.zoom?250:0))),m._resetPos(200),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a),void 0;if(300>q&&m.options.momentum&&(o=r?m._momentum(r-m.startX,q,-m.x,m.scrollerW-m.wrapperW+m.x,m.options.bounce?m.wrapperW:0):o,p=t?m._momentum(t-m.startY,q,-m.y,m.maxScrollY<0?m.scrollerH-m.wrapperH+m.y-m.minScrollY:0,m.options.bounce?m.wrapperH:0):p,r=m.x+o.dist,t=m.y+p.dist,(m.x>0&&r>0||m.x<m.maxScrollX&&r<m.maxScrollX)&&(o={dist:0,time:0}),(m.y>m.minScrollY&&t>m.minScrollY||m.y<m.maxScrollY&&t<m.maxScrollY)&&(p={dist:0,time:0})),o.dist||p.dist)return h=e.max(e.max(o.time,p.time),10),m.options.snap&&(f=r-m.absStartX,g=t-m.absStartY,e.abs(f)<m.options.snapThreshold&&e.abs(g)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(j=m._snap(r,t),r=j.x,t=j.y,h=e.max(j.time,h))),m.scrollTo(e.round(r),e.round(t),h),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a),void 0;if(m.options.snap)return f=r-m.absStartX,g=t-m.absStartY,e.abs(f)<m.options.snapThreshold&&e.abs(g)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(j=m._snap(m.x,m.y),(j.x!=m.x||j.y!=m.y)&&m.scrollTo(j.x,j.y,j.time)),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a),void 0;m._resetPos(200),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a)}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;return c==b.x&&d==b.y?(b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b)),b.hScrollbar&&b.options.hideScrollbar&&("webkit"==g&&(b.hScrollbarWrapper.style[n]="300ms"),b.hScrollbarWrapper.style.opacity="0"),b.vScrollbar&&b.options.hideScrollbar&&("webkit"==g&&(b.vScrollbarWrapper.style[n]="300ms"),b.vScrollbarWrapper.style.opacity="0"),void 0):(b.scrollTo(c,d,a||0),void 0)},_wheel:function(a){var b,c,d,e,f,g=this;if("wheelDeltaX"in a)b=a.wheelDeltaX/12,c=a.wheelDeltaY/12;else if("wheelDelta"in a)b=c=a.wheelDelta/12;else{if(!("detail"in a))return;b=c=3*-a.detail}return"zoom"==g.options.wheelAction?(f=g.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),f<g.options.zoomMin&&(f=g.options.zoomMin),f>g.options.zoomMax&&(f=g.options.zoomMax),f!=g.scale&&(!g.wheelZoomCount&&g.options.onZoomStart&&g.options.onZoomStart.call(g,a),g.wheelZoomCount++,g.zoom(a.pageX,a.pageY,f,400),setTimeout(function(){g.wheelZoomCount--,!g.wheelZoomCount&&g.options.onZoomEnd&&g.options.onZoomEnd.call(g,a)},400)),void 0):(d=g.x+b,e=g.y+c,d>0?d=0:d<g.maxScrollX&&(d=g.maxScrollX),e>g.minScrollY?e=g.minScrollY:e<g.maxScrollY&&(e=g.maxScrollY),g.maxScrollY<0&&g.scrollTo(d,e,0),void 0)},_mouseout:function(a){var b=a.relatedTarget;if(!b)return this._end(a),void 0;for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind(B),b._startAni())},_startAni:function(){var a,b,c,d=this,f=d.x,g=d.y,h=Date.now();if(!d.animating){if(!d.steps.length)return d._resetPos(400),void 0;if(a=d.steps.shift(),a.x==f&&a.y==g&&(a.time=0),d.animating=!0,d.moved=!0,d.options.useTransition)return d._transitionTime(a.time),d._pos(a.x,a.y),d.animating=!1,a.time?d._bind(B):d._resetPos(0),void 0;c=function(){var i,j,k=Date.now();return k>=h+a.time?(d._pos(a.x,a.y),d.animating=!1,d.options.onAnimationEnd&&d.options.onAnimationEnd.call(d),d._startAni(),void 0):(k=(k-h)/a.time-1,b=e.sqrt(1-k*k),i=(a.x-f)*b+f,j=(a.y-g)*b+g,d._pos(i,j),d.animating&&(d.aniTime=C(c)),void 0)},c()}},_transitionTime:function(a){a+="ms",this.scroller.style[k]=a,this.hScrollbar&&(this.hScrollbarIndicator.style[k]=a),this.vScrollbar&&(this.vScrollbarIndicator.style[k]=a)
},_momentum:function(a,b,c,d,f){var g=6e-4,h=e.abs(a)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>c?(k=f/(6/(i/h*g)),c+=k,h=h*c/i,i=c):0>a&&i>d&&(k=f/(6/(i/h*g)),d+=k,h=h*d/i,i=d),i*=0>a?-1:1,j=h/g,{dist:i,time:e.round(j)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_snap:function(a,b){var c,d,f,g,h,i,j=this;for(f=j.pagesX.length-1,c=0,d=j.pagesX.length;d>c;c++)if(a>=j.pagesX[c]){f=c;break}for(f==j.currPageX&&f>0&&j.dirX<0&&f--,a=j.pagesX[f],h=e.abs(a-j.pagesX[j.currPageX]),h=h?500*(e.abs(j.x-a)/h):0,j.currPageX=f,f=j.pagesY.length-1,c=0;f>c;c++)if(b>=j.pagesY[c]){f=c;break}return f==j.currPageY&&f>0&&j.dirY<0&&f--,b=j.pagesY[f],i=e.abs(b-j.pagesY[j.currPageY]),i=i?500*(e.abs(j.y-b)/i):0,j.currPageY=f,g=e.round(e.max(h,i))||200,{x:a,y:b,time:g}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){var b=this;b.scroller.style[i]="",b.hScrollbar=!1,b.vScrollbar=!1,b._scrollbar("h"),b._scrollbar("v"),b._unbind(v,a),b._unbind(w),b._unbind(x),b._unbind(y),b._unbind(z),b.options.hasTouch||(b._unbind("mouseout",b.wrapper),b._unbind(A)),b.options.useTransition&&b._unbind(B),b.options.checkDOMChanges&&clearInterval(b.checkDOMTime),b.options.onDestroy&&b.options.onDestroy.call(b)},refresh:function(){var a,b,c,d,f=this,g=0,h=0;if(f.scale<f.options.zoomMin&&(f.scale=f.options.zoomMin),f.wrapperW=f.wrapper.clientWidth||1,f.wrapperH=f.wrapper.clientHeight||1,f.minScrollY=-f.options.topOffset||0,f.scrollerW=e.round(f.scroller.offsetWidth*f.scale),f.scrollerH=e.round((f.scroller.offsetHeight+f.minScrollY)*f.scale),f.maxScrollX=f.wrapperW-f.scrollerW,f.maxScrollY=f.wrapperH-f.scrollerH+f.minScrollY,f.dirX=0,f.dirY=0,f.options.onRefresh&&f.options.onRefresh.call(f),f.hScroll=f.options.hScroll&&f.maxScrollX<0,f.vScroll=f.options.vScroll&&(!f.options.bounceLock&&!f.hScroll||f.scrollerH>f.wrapperH),f.hScrollbar=f.hScroll&&f.options.hScrollbar,f.vScrollbar=f.vScroll&&f.options.vScrollbar&&f.scrollerH>f.wrapperH,a=f._offset(f.wrapper),f.wrapperOffsetLeft=-a.left,f.wrapperOffsetTop=-a.top,"string"==typeof f.options.snap)for(f.pagesX=[],f.pagesY=[],d=f.scroller.querySelectorAll(f.options.snap),b=0,c=d.length;c>b;b++)g=f._offset(d[b]),g.left+=f.wrapperOffsetLeft,g.top+=f.wrapperOffsetTop,f.pagesX[b]=g.left<f.maxScrollX?f.maxScrollX:g.left*f.scale,f.pagesY[b]=g.top<f.maxScrollY?f.maxScrollY:g.top*f.scale;else if(f.options.snap){for(f.pagesX=[];g>=f.maxScrollX;)f.pagesX[h]=g,g-=f.wrapperW,h++;for(f.maxScrollX%f.wrapperW&&(f.pagesX[f.pagesX.length]=f.maxScrollX-f.pagesX[f.pagesX.length-1]+f.pagesX[f.pagesX.length-1]),g=0,h=0,f.pagesY=[];g>=f.maxScrollY;)f.pagesY[h]=g,g-=f.wrapperH,h++;f.maxScrollY%f.wrapperH&&(f.pagesY[f.pagesY.length]=f.maxScrollY-f.pagesY[f.pagesY.length-1]+f.pagesY[f.pagesY.length-1])}f._scrollbar("h"),f._scrollbar("v"),f.zoomed||(f.scroller.style[k]="0",f._resetPos(200))},scrollTo:function(a,b,c,d){var e,f,g=this,h=a;for(g.stop(),h.length||(h=[{x:a,y:b,time:c,relative:d}]),e=0,f=h.length;f>e;e++)h[e].relative&&(h[e].x=g.x-h[e].x,h[e].y=g.y-h[e].y),g.steps.push({x:h[e].x,y:h[e].y,time:h[e].time||0});g._startAni()},scrollToElement:function(a,b){var c,d=this;a=a.nodeType?a:d.scroller.querySelector(a),a&&(c=d._offset(a),c.left+=d.wrapperOffsetLeft,c.top+=d.wrapperOffsetTop,c.left=c.left>0?0:c.left<d.maxScrollX?d.maxScrollX:c.left,c.top=c.top>d.minScrollY?d.minScrollY:c.top<d.maxScrollY?d.maxScrollY:c.top,b=void 0===b?e.max(2*e.abs(c.left),2*e.abs(c.top)):b,d.scrollTo(c.left,c.top,b))},scrollToPage:function(a,b,c){var d,e,f=this;c=void 0===c?400:c,f.options.onScrollStart&&f.options.onScrollStart.call(f),f.options.snap?(a="next"==a?f.currPageX+1:"prev"==a?f.currPageX-1:a,b="next"==b?f.currPageY+1:"prev"==b?f.currPageY-1:b,a=0>a?0:a>f.pagesX.length-1?f.pagesX.length-1:a,b=0>b?0:b>f.pagesY.length-1?f.pagesY.length-1:b,f.currPageX=a,f.currPageY=b,d=f.pagesX[a],e=f.pagesY[b]):(d=-f.wrapperW*a,e=-f.wrapperH*b,d<f.maxScrollX&&(d=f.maxScrollX),e<f.maxScrollY&&(e=f.maxScrollY)),f.scrollTo(d,e,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(x),this._unbind(y),this._unbind(z)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(B):D(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(a,b,c,d){var e=this,f=c/e.scale;e.options.useTransform&&(e.zoomed=!0,d=void 0===d?200:d,a=a-e.wrapperOffsetLeft-e.x,b=b-e.wrapperOffsetTop-e.y,e.x=a-a*f+e.x,e.y=b-b*f+e.y,e.scale=c,e.refresh(),e.x=e.x>0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,e.y=e.y>e.minScrollY?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y,e.scroller.style[k]=d+"ms",e.scroller.style[i]="translate("+e.x+"px,"+e.y+"px) scale("+c+")"+E,e.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},f=null,"undefined"!=typeof c&&c.exports?c.exports=F:a.iScroll=F}(this,document)}),define("topivi/widget/1.0.0/slider/index",["topivi/widget/1.0.0/slider/slider-list-remove","jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget","jquery-touch"],function(a,b,c){var d={};d.listRemove=a("topivi/widget/1.0.0/slider/slider-list-remove"),c.exports=d}),define("topivi/widget/1.0.0/slider/slider-list-remove",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget","jquery-touch"],function(a,b,c){function d(){this.defaults={},f.apply(this,arguments);for(var a=this,b=this.el.find("li"),c=0,d=b.length;d>c;c++){var e=b.eq(c);e.drag("options",{axis:"x",min:{left:-a.options.width},max:{left:0},ondragbefore:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(b,c){-a.options.width-c.$element.css("left").slice(0,-2)<0&&c.$element.css("left",0)}})}}a("jquery"),a("underscore");var e=a("topivi/widget/1.0.0/util"),f=a("topivi/widget/1.0.0/widget");a("jquery-touch"),e.inherits(d,f),d.prototype.init=function(){f.prototype.init.apply(this,arguments),this.el.addClass("slider")},c.exports=d}),define("topivi/widget/1.0.0/tips/index",["topivi/widget/1.0.0/tips/normal","topivi/widget/1.0.0/util","topivi/widget/1.0.0/tips/tips","jquery","topivi/widget/1.0.0/widget","underscore"],function(a,b,c){var d={};d.normal=a("topivi/widget/1.0.0/tips/normal"),c.exports=d}),define("topivi/widget/1.0.0/tips/normal",["topivi/widget/1.0.0/util","topivi/widget/1.0.0/tips/tips","jquery","topivi/widget/1.0.0/widget","underscore"],function(a,b,c){function d(){f.apply(this,arguments)}var e=a("topivi/widget/1.0.0/util"),f=a("topivi/widget/1.0.0/tips/tips");e.inherits(d,f),d.prototype.init=function(){f.prototype.init.apply(this,arguments),this.el.addClass("normal")},d.prototype.render=function(){f.prototype.render.apply(this,arguments)},c.exports=d}),define("topivi/widget/1.0.0/tips/tips",["jquery","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget","underscore"],function(a,b,c){function d(){this.defaults={content:"",dependEl:null,autoShow:!1,removeAfterHide:!1,direction:"top",autoHide:!1,timeout:3e3,hideMode:function(){var a=this,b=this.options.timeout;setTimeout(function(){a.hide()},b)},inAnimation:function(a){this.el.fadeIn(500,function(){a()})},outAnimation:function(a){this.el.fadeOut(500,function(){a()})},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){}},f.apply(this,arguments)}a("jquery");var e=a("topivi/widget/1.0.0/util"),f=a("topivi/widget/1.0.0/widget");e.inherits(d,f),d.prototype.init=function(){f.prototype.init.apply(this,arguments),this.el.addClass("tips");var a=this.options;return!a.dependEl||a.dependEl.length<=0?console.error("Depend el is not set."):(a.autoShow&&this.show(),void 0)},d.prototype.show=function(){if(!this.showing&&!this.shown){this.showing=!0;var a=this,b=this.options,c=arguments;b.beforeShow.apply(this,c),this.render(),this.el.addClass("showing"),b.inAnimation.call(this,function(){b.onShow.apply(a,c),a.el.addClass("shown").removeClass("showing"),a.showing=!1,a.shown=!0,b.autoHide&&b.hideMode.apply(a,c)})}},d.prototype.hide=function(){if(!this.hiding&&this.shown){this.hiding=!0;var a=this,b=this.options,c=arguments;b.beforeHide.apply(this,c),b.outAnimation.call(this,function(){b.onHide.apply(a,c),a.el.empty().removeClass("shown"),a.hiding=!1,a.shown=!1,b.removeAfterHide&&(a.el.remove(),a=void 0)})}},d.prototype.render=function(){var a=this.options,b=a.dependEl.offset(),c=a.dependEl.width(),d=a.dependEl.height(),e=this.el.width(),f=this.el.height();switch(a.direction){case"top":this.el.css({top:b.top-f,left:b.left});break;case"inner-top":this.el.css({top:b.top,left:b.left});break;case"top-center":this.el.css({top:b.top-f,left:b.left+(c-e)/2});break;case"inner-top-center":this.el.css({top:b.top,left:b.left+(c-e)/2});break;case"bottom":this.el.css({top:b.top+d,left:b.left});break;case"inner-bottom":this.el.css({top:b.top+d-f,left:b.left});break;case"bottom-center":this.el.css({top:b.top+d,left:b.left+(c-e)/2});break;case"inner-bottom-center":this.el.css({top:b.top+d-f,left:b.left+(c-e)/2});break;case"left":this.el.css({top:b.top,left:b.left-e});break;case"inner-left":this.el.css({top:b.top,left:b.left});break;case"left-center":this.el.css({top:b.top+(d-f)/2,left:b.left-e});break;case"inner-left-center":this.el.css({top:b.top+(d-f)/2,left:b.left});break;case"right":this.el.css({top:b.top,left:b.left+c});break;case"inner-right":this.el.css({top:b.top,left:b.left+c-e});break;case"right-center":this.el.css({top:b.top+(d-f)/2,left:b.left+c});break;case"inner-right-center":this.el.css({top:b.top+(d-f)/2,left:b.left+c-e})}this.el.append(a.content)},d.prototype.setContent=function(a){this.options.content=a},c.exports=d}),define("topivi/widget/1.0.0/loading/index",["topivi/widget/1.0.0/loading/normal","jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/loading/loading","topivi/widget/1.0.0/widget"],function(a,b,c){var d={};d.normal=a("topivi/widget/1.0.0/loading/normal"),c.exports=d}),define("topivi/widget/1.0.0/loading/normal",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/loading/loading","topivi/widget/1.0.0/widget"],function(a,b,c){function d(a,b){this.template=e.template(h);var c={};b=e.extend(c,b),g.apply(this,arguments)}a("jquery");var e=a("underscore"),f=a("topivi/widget/1.0.0/util"),g=a("topivi/widget/1.0.0/loading/loading"),h=a("topivi/widget/1.0.0/templates/loading-normal.tpl");f.inherits(d,g),d.prototype.init=function(){g.prototype.init.apply(this,arguments),this.el.addClass("normal")},d.prototype.render=function(){this.el.empty(),this.el.html(this.template())},c.exports=d}),define("topivi/widget/1.0.0/loading/loading",["jquery","underscore","topivi/widget/1.0.0/util","topivi/widget/1.0.0/widget"],function(a,b,c){function d(){this.defaults={noticeContent:"",iconDirection:"center",autoShow:!1,removeAfterHide:!1,beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},inAnimation:function(a){this.el.fadeIn(100,a)},outAnimation:function(a){this.el.fadeOut(100,a)}},f.apply(this,arguments)}a("jquery"),a("underscore");var e=a("topivi/widget/1.0.0/util"),f=a("topivi/widget/1.0.0/widget");e.inherits(d,f),d.prototype.init=function(){f.prototype.init.apply(this,arguments),this.el.addClass("loading"),this.options.autoShow&&this.show()},d.prototype.show=function(){if(!this.showing&&!this.shown){this.showing=!0;var a=this,b=this.options,c=arguments;b.beforeShow.apply(this,c),this.render(),this.el.addClass("showing"),this.el.find(".notice").addClass(b.iconDirection).append(b.noticeContent),b.inAnimation.call(this,function(){b.onShow.apply(a,c),a.el.addClass("shown").removeClass("showing"),a.showing=!1,a.shown=!0})}},d.prototype.hide=function(){if(!this.hiding&&this.shown){this.hiding=!0;var a=this,b=this.options,c=arguments;b.beforeHide.apply(this,c),b.outAnimation.call(this,function(){b.onHide.apply(a,c),a.el.empty().removeClass("shown"),a.hiding=!1,a.shown=!1,b.removeAfterHide&&(a.el.remove(),a=void 0)})}},c.exports=d}),define("topivi/widget/1.0.0/templates/loading-normal.tpl",[],'<div class="notice"></div>'),define("topivi/widget/1.0.0/socket/index",[],function(a,b,c){var d=function(a,b,c){this.socketUrl=a,this.socketProtocol=b,this.fn=c,this.retries=5,this.socket=null};d.prototype.int=function(){var a=this;this.socket=new WebSocket(this.socketUrl,this.socketProtocol),this.socket.onopen=function(){},this.socket.onclose=function(){a.retries>0&&setTimeout(function(){a.retries--,console.log(a.retries),a.int()},5e3)},this.socket.onerror=function(){},this.socket.onmessage=this.fn},d.prototype.send=function(a){this.socket.send(a)},c.exports=d});
